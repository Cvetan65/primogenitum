{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/revents-master-14/cista/revents-4a7a2c1fc0de9971a68b4bb68ad6fa71370a6c80/src/features/auth/AccountPage.jsx\";\nimport React from 'react';\nimport { Segment, Header, Button, Label } from 'semantic-ui-react';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport MyTextInput from '../../app/common/form/MyTextInput';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { updateUserPassword } from '../../app/firestore/firebaseService';\nexport default function AccountPage() {\n  const {\n    currentUser\n  } = useSelector(state => state.auth);\n  return /*#__PURE__*/React.createElement(Segment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    dividing: true,\n    size: \"large\",\n    content: \"Account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }), currentUser.providerId === 'password' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    color: \"teal\",\n    sub: true,\n    content: \"Change Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, \"Use this form to change your password\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      newPassword1: '',\n      newPassword2: ''\n    },\n    validationSchema: Yup.object({\n      newPassword1: Yup.string().required('Password is required'),\n      newPassword2: Yup.string().oneOf([Yup.ref('newPassword1'), null], 'Passwords do not match')\n    }),\n    onSubmit: async (values, {\n      setSubmitting,\n      setErrors\n    }) => {\n      try {\n        await updateUserPassword(values);\n      } catch (error) {\n        setErrors({\n          auth: error.message\n        });\n      } finally {\n        setSubmitting(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, ({\n    errors,\n    isSubmitting,\n    isValid,\n    dirty\n  }) => /*#__PURE__*/React.createElement(Form, {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MyTextInput, {\n    name: \"newPassword1\",\n    type: \"password\",\n    placeholder: \"New Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(MyTextInput, {\n    name: \"newPassword2\",\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }), errors.auth && /*#__PURE__*/React.createElement(Label, {\n    basic: true,\n    color: \"red\",\n    style: {\n      marginBottom: 10\n    },\n    content: errors.auth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      display: 'block'\n    },\n    type: \"submit\",\n    disabled: !isValid || isSubmitting || !dirty,\n    loading: isSubmitting,\n    size: \"large\",\n    positive: true,\n    content: \"Update password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  })))), currentUser.providerId === 'facebook.com' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    color: \"teal\",\n    sub: true,\n    content: \"Facebook account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Please visit Facebook to update your account\"), /*#__PURE__*/React.createElement(Button, {\n    icon: \"facebook\",\n    color: \"facebook\",\n    as: Link,\n    to: \"https://facebook.com\",\n    content: \"Go to Facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })), currentUser.providerId === 'google.com' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    color: \"teal\",\n    sub: true,\n    content: \"Google account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Please visit Facebook to update your account\"), /*#__PURE__*/React.createElement(Button, {\n    icon: \"google\",\n    color: \"google plus\",\n    as: Link,\n    to: \"https://facebook.com\",\n    content: \"Go to Google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/revents-master-14/cista/revents-4a7a2c1fc0de9971a68b4bb68ad6fa71370a6c80/src/features/auth/AccountPage.jsx"],"names":["React","Segment","Header","Button","Label","Formik","Form","Yup","MyTextInput","Link","useSelector","updateUserPassword","AccountPage","currentUser","state","auth","providerId","newPassword1","newPassword2","object","string","required","oneOf","ref","values","setSubmitting","setErrors","error","message","errors","isSubmitting","isValid","dirty","marginBottom","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Segment, Header, Button, Label } from 'semantic-ui-react';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport MyTextInput from '../../app/common/form/MyTextInput';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { updateUserPassword } from '../../app/firestore/firebaseService';\n\nexport default function AccountPage() {\n  const { currentUser } = useSelector((state) => state.auth);\n  return (\n    <Segment>\n      <Header dividing size='large' content='Account' />\n      {currentUser.providerId === 'password' &&\n      <>\n        <Header color='teal' sub content='Change Password' />\n        <p>Use this form to change your password</p>\n        <Formik\n          initialValues={{ newPassword1: '', newPassword2: '' }}\n          validationSchema={Yup.object({\n            newPassword1: Yup.string().required('Password is required'),\n            newPassword2: Yup.string().oneOf(\n              [Yup.ref('newPassword1'), null],\n              'Passwords do not match'\n            ),\n          })}\n          onSubmit={async (values, {setSubmitting, setErrors}) => {\n            try {\n                await updateUserPassword(values);\n            } catch (error) {\n                setErrors({auth: error.message}); \n            } finally {\n                setSubmitting(false);\n            }\n          }}\n        >\n          {({ errors, isSubmitting, isValid, dirty }) => (\n            <Form className='ui form'>\n              <MyTextInput\n                name='newPassword1'\n                type='password'\n                placeholder='New Password'\n              />\n              <MyTextInput\n                name='newPassword2'\n                type='password'\n                placeholder='Confirm Password'\n              />\n              {errors.auth && (\n                <Label\n                  basic\n                  color='red'\n                  style={{ marginBottom: 10 }}\n                  content={errors.auth}\n                />\n              )}\n              <Button\n                style={{display: 'block'}}\n                type='submit'\n                disabled={!isValid || isSubmitting || !dirty}\n                loading={isSubmitting}\n                size='large'\n                positive\n                content='Update password'\n              />\n            </Form>\n          )}\n        </Formik>\n      </>}\n      {currentUser.providerId === 'facebook.com' &&\n      <>\n        <Header color='teal' sub content='Facebook account' />\n        <p>Please visit Facebook to update your account</p>\n        <Button\n          icon='facebook'\n          color='facebook'\n          as={Link}\n          to='https://facebook.com'\n          content='Go to Facebook'\n        />\n      </>}\n      {currentUser.providerId === 'google.com' && \n      <>\n        <Header color='teal' sub content='Google account' />\n        <p>Please visit Facebook to update your account</p>\n        <Button\n          icon='google'\n          color='google plus'\n          as={Link}\n          to='https://facebook.com'\n          content='Go to Google'\n        />\n      </>}\n    </Segment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}