{"ast":null,"code":"import { CREATE_EVENT, UPDATE_EVENT, DELETE_EVENT, FETCH_EVENTS, LISTEN_TO_EVENT_CHAT } from './eventConstants';\nimport { asyncActionStart, asyncActionFinish, asyncActionError } from '../../app/async/asyncReducer';\nimport { fetchEventsFromFirestore } from '../../app/firestore/firestoreService';\nexport function fetchEvents(predicate, limit, lastDocSnaphot) {\n  return async function (dispatch) {\n    dispatch(asyncActionStart());\n\n    try {\n      const snapshot = await fetchEventsFromFirestore(predicate, limit, lastDocSnaphot).get();\n      const lastVisible = snapshot.docs[snapshot.docs.length - 1];\n      const moreEvents = snapshot.docs.length >= limit;\n      const events = snapshot.docs.map;\n      dispatch({\n        type: FETCH_EVENTS,\n        payload: events\n      });\n      dispatch(asyncActionFinish());\n    } catch (error) {\n      dispatch(asyncActionError(error));\n    }\n  };\n}\nexport function listenToEvents(events) {\n  return {\n    type: FETCH_EVENTS,\n    payload: events\n  };\n}\nexport function createEvent(event) {\n  return {\n    type: CREATE_EVENT,\n    payload: event\n  };\n}\nexport function updateEvent(event) {\n  return {\n    type: UPDATE_EVENT,\n    payload: event\n  };\n}\nexport function deleteEvent(eventId) {\n  return {\n    type: DELETE_EVENT,\n    payload: eventId\n  };\n}\nexport function listenToEventChat(comments) {\n  return {\n    type: LISTEN_TO_EVENT_CHAT,\n    payload: comments\n  };\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventActions.js"],"names":["CREATE_EVENT","UPDATE_EVENT","DELETE_EVENT","FETCH_EVENTS","LISTEN_TO_EVENT_CHAT","asyncActionStart","asyncActionFinish","asyncActionError","fetchEventsFromFirestore","fetchEvents","predicate","limit","lastDocSnaphot","dispatch","snapshot","get","lastVisible","docs","length","moreEvents","events","map","type","payload","error","listenToEvents","createEvent","event","updateEvent","deleteEvent","eventId","listenToEventChat","comments"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,YAAvB,EAAqCC,YAArC,EAAmDC,YAAnD,EAAiEC,oBAAjE,QAA6F,kBAA7F;AACA,SAAQC,gBAAR,EAA0BC,iBAA1B,EAA6CC,gBAA7C,QAAoE,8BAApE;AACA,SAASC,wBAAT,QAAyC,sCAAzC;AAEA,OAAO,SAASC,WAAT,CAAqBC,SAArB,EAAgCC,KAAhC,EAAuCC,cAAvC,EAAuD;AAC1D,SAAO,gBAAeC,QAAf,EAAyB;AAC5BA,IAAAA,QAAQ,CAACR,gBAAgB,EAAjB,CAAR;;AACA,QAAI;AACA,YAAMS,QAAQ,GAAG,MAAMN,wBAAwB,CAACE,SAAD,EAAYC,KAAZ,EAAmBC,cAAnB,CAAxB,CAA2DG,GAA3D,EAAvB;AACA,YAAMC,WAAW,GAAGF,QAAQ,CAACG,IAAT,CAAcH,QAAQ,CAACG,IAAT,CAAcC,MAAd,GAAqB,CAAnC,CAApB;AACA,YAAMC,UAAU,GAAGL,QAAQ,CAACG,IAAT,CAAcC,MAAd,IAAwBP,KAA3C;AACA,YAAMS,MAAM,GAAGN,QAAQ,CAACG,IAAT,CAAcI,GAA7B;AACAR,MAAAA,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAEnB,YAAP;AAAqBoB,QAAAA,OAAO,EAAEH;AAA9B,OAAD,CAAR;AACAP,MAAAA,QAAQ,CAACP,iBAAiB,EAAlB,CAAR;AACH,KAPD,CAOE,OAAOkB,KAAP,EAAc;AACZX,MAAAA,QAAQ,CAACN,gBAAgB,CAACiB,KAAD,CAAjB,CAAR;AACH;AACJ,GAZD;AAaH;AAED,OAAO,SAASC,cAAT,CAAwBL,MAAxB,EAAgC;AACnC,SAAO;AACHE,IAAAA,IAAI,EAAEnB,YADH;AAEHoB,IAAAA,OAAO,EAAEH;AAFN,GAAP;AAIH;AAED,OAAO,SAASM,WAAT,CAAqBC,KAArB,EAA4B;AAC/B,SAAO;AACHL,IAAAA,IAAI,EAAEtB,YADH;AAEHuB,IAAAA,OAAO,EAAEI;AAFN,GAAP;AAIH;AAED,OAAO,SAASC,WAAT,CAAqBD,KAArB,EAA4B;AAC/B,SAAO;AACHL,IAAAA,IAAI,EAAErB,YADH;AAEHsB,IAAAA,OAAO,EAAEI;AAFN,GAAP;AAIH;AAED,OAAO,SAASE,WAAT,CAAqBC,OAArB,EAA8B;AACjC,SAAO;AACHR,IAAAA,IAAI,EAAEpB,YADH;AAEHqB,IAAAA,OAAO,EAAEO;AAFN,GAAP;AAIH;AAED,OAAO,SAASC,iBAAT,CAA2BC,QAA3B,EAAqC;AACxC,SAAO;AACHV,IAAAA,IAAI,EAAElB,oBADH;AAEHmB,IAAAA,OAAO,EAAES;AAFN,GAAP;AAIH","sourcesContent":["import { CREATE_EVENT, UPDATE_EVENT, DELETE_EVENT, FETCH_EVENTS, LISTEN_TO_EVENT_CHAT } from './eventConstants';\nimport {asyncActionStart, asyncActionFinish, asyncActionError} from '../../app/async/asyncReducer';\nimport { fetchEventsFromFirestore } from '../../app/firestore/firestoreService';\n\nexport function fetchEvents(predicate, limit, lastDocSnaphot) {\n    return async function(dispatch) {\n        dispatch(asyncActionStart())\n        try {\n            const snapshot = await fetchEventsFromFirestore(predicate, limit, lastDocSnaphot).get();\n            const lastVisible = snapshot.docs[snapshot.docs.length-1];\n            const moreEvents = snapshot.docs.length >= limit;\n            const events = snapshot.docs.map\n            dispatch({type: FETCH_EVENTS, payload: events});\n            dispatch(asyncActionFinish())\n        } catch (error) {\n            dispatch(asyncActionError(error));\n        }\n    }\n}\n\nexport function listenToEvents(events) {\n    return {\n        type: FETCH_EVENTS,\n        payload: events\n    }\n}\n\nexport function createEvent(event) {\n    return {\n        type: CREATE_EVENT,\n        payload: event\n    }\n}\n\nexport function updateEvent(event) {\n    return {\n        type: UPDATE_EVENT,\n        payload: event\n    }\n}\n\nexport function deleteEvent(eventId) {\n    return {\n        type: DELETE_EVENT,\n        payload: eventId\n    }\n}\n\nexport function listenToEventChat(comments) {\n    return {\n        type: LISTEN_TO_EVENT_CHAT, \n        payload: comments\n    }\n}"]},"metadata":{},"sourceType":"module"}