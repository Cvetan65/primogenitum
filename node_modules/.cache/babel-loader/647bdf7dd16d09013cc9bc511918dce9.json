{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedHeader.jsx\";\nimport React from 'react';\nimport { Segment, Image, Item, Header, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { addUserAttendance, cancelUserAttendance } from '../../../app/firestore/firestoreService';\nconst eventImageStyle = {\n  filter: 'brightness(30%)'\n};\nconst eventImageTextStyle = {\n  position: 'absolute',\n  bottom: '5%',\n  left: '5%',\n  width: '100%',\n  height: 'auto',\n  color: 'white'\n};\nexport default function EventDetailedHeader({\n  event,\n  isHost,\n  isGoing\n}) {\n  const [loading, setLoading] = useState(false);\n\n  async function handleUserJoinEvent() {\n    setLoading(true);\n\n    try {\n      await addUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUserLeaveEvent() {\n    setLoading(true);\n\n    try {\n      await cancelUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Segment.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Segment, {\n    basic: true,\n    attached: \"top\",\n    style: {\n      padding: '0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: `/assets/categoryImages/${event.category}.jpg`,\n    fluid: true,\n    style: eventImageStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Segment, {\n    basic: true,\n    style: eventImageTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Item.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Item.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    size: \"huge\",\n    content: event.title,\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, format(event.date, 'MMMM d, yyyy h:mm a')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Hosted by \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/profile/${event.hostUid}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }\n  }, event.hostedBy), \"  \"))))))), /*#__PURE__*/React.createElement(Segment, {\n    attached: \"bottom\",\n    clearing: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, !isHost && /*#__PURE__*/React.createElement(React.Fragment, null, isGoing ? /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUserLeaveEvent,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"Cancel My Place\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUserJoinEvent,\n    loading: loading,\n    color: \"teal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u0420\\u0418\\u0414\\u0420\\u0423\\u0416\\u0418 \\u0421\\u0415\")), isHost && /*#__PURE__*/React.createElement(Button, {\n    as: Link,\n    to: `/manage/${event.id}`,\n    color: \"orange\",\n    floated: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u0440\\u043E\\u043C\\u0435\\u043D\\u0438 \\u0458\\u0430 \\u043F\\u043E\\u043D\\u0443\\u0434\\u0430\\u0442\\u0430\")));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedHeader.jsx"],"names":["React","Segment","Image","Item","Header","Button","Link","format","useState","toast","addUserAttendance","cancelUserAttendance","eventImageStyle","filter","eventImageTextStyle","position","bottom","left","width","height","color","EventDetailedHeader","event","isHost","isGoing","loading","setLoading","handleUserJoinEvent","error","message","handleUserLeaveEvent","padding","category","title","date","hostUid","hostedBy","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Segment, Image, Item, Header, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { addUserAttendance, cancelUserAttendance } from '../../../app/firestore/firestoreService';\n\nconst eventImageStyle = {\n  filter: 'brightness(30%)',\n};\n\nconst eventImageTextStyle = {\n  position: 'absolute',\n  bottom: '5%',\n  left: '5%',\n  width: '100%',\n  height: 'auto',\n  color: 'white',\n};\n\nexport default function EventDetailedHeader({ event, isHost, isGoing }) {\n  const [loading, setLoading] = useState(false);\n\n  async function handleUserJoinEvent() {\n    setLoading(true);\n    try {\n      await addUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUserLeaveEvent() {\n    setLoading(true);\n    try {\n      await cancelUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Segment.Group>\n      <Segment basic attached='top' style={{ padding: '0' }}>\n        <Image\n          src={`/assets/categoryImages/${event.category}.jpg`}\n          fluid\n          style={eventImageStyle}\n        />\n\n        <Segment basic style={eventImageTextStyle}>\n          <Item.Group>\n            <Item>\n              <Item.Content>\n                <Header\n                  size='huge'\n                  content={event.title}\n                  style={{ color: 'white' }}\n                />\n                <p>{format(event.date, 'MMMM d, yyyy h:mm a')}</p>\n                <p>\n                  Hosted by <strong><Link to={`/profile/${event.hostUid}`}>{event.hostedBy}</Link>  </strong>\n                </p>\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </Segment>\n      </Segment>\n\n      <Segment attached='bottom' clearing>\n        {!isHost && (\n          <>\n            {isGoing ? (\n              <Button onClick={handleUserLeaveEvent} loading={loading}>Cancel My Place</Button>\n            ) : (\n              <Button\n                onClick={handleUserJoinEvent}\n                loading={loading}\n                color='teal'\n              >\n                ПРИДРУЖИ СЕ \n              </Button>\n            )}\n          </>\n        )}\n\n        {isHost && (\n          <Button\n            as={Link}\n            to={`/manage/${event.id}`}\n            color='orange'\n            floated='right'\n          >\n            Промени ја понудата\n          </Button>\n        )}\n      </Segment>\n    </Segment.Group>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}