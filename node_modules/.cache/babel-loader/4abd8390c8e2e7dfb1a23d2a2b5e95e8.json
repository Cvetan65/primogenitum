{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedHeader.jsx\";\nimport React from 'react';\nimport { Segment, Image, Item, Header, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { addUserAttendance, cancelUserAttendance } from '../../../app/firestore/firestoreService';\nimport { useSelector } from 'react-redux';\nimport UnauthModal from '../../auth/UnauthModal';\nconst eventImageStyle = {\n  filter: 'brightness(30%)'\n};\nconst eventImageTextStyle = {\n  position: 'absolute',\n  bottom: '5%',\n  left: '5%',\n  width: '100%',\n  height: 'auto',\n  color: 'white'\n};\nexport default function EventDetailedHeader({\n  event,\n  isHost,\n  isGoing\n}) {\n  const [loading, setLoading] = useState(false);\n  const {\n    authenticated\n  } = useSelector(state => state.auth);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  async function handleUserJoinEvent() {\n    setLoading(true);\n\n    try {\n      await addUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUserLeaveEvent() {\n    setLoading(true);\n\n    try {\n      await cancelUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, modalOpen && /*#__PURE__*/React.createElement(UnauthModal, {\n    setModalOpen: setModalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedHeader.jsx"],"names":["React","Segment","Image","Item","Header","Button","Link","format","useState","toast","addUserAttendance","cancelUserAttendance","useSelector","UnauthModal","eventImageStyle","filter","eventImageTextStyle","position","bottom","left","width","height","color","EventDetailedHeader","event","isHost","isGoing","loading","setLoading","authenticated","state","auth","modalOpen","setModalOpen","handleUserJoinEvent","error","message","handleUserLeaveEvent"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,KAAlB,EAAyBC,IAAzB,EAA+BC,MAA/B,EAAuCC,MAAvC,QAAqD,mBAArD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,iBAAT,EAA4BC,oBAA5B,QAAwD,yCAAxD;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,eAAe,GAAG;AACtBC,EAAAA,MAAM,EAAE;AADc,CAAxB;AAIA,MAAMC,mBAAmB,GAAG;AAC1BC,EAAAA,QAAQ,EAAE,UADgB;AAE1BC,EAAAA,MAAM,EAAE,IAFkB;AAG1BC,EAAAA,IAAI,EAAE,IAHoB;AAI1BC,EAAAA,KAAK,EAAE,MAJmB;AAK1BC,EAAAA,MAAM,EAAE,MALkB;AAM1BC,EAAAA,KAAK,EAAE;AANmB,CAA5B;AASA,eAAe,SAASC,mBAAT,CAA6B;AAAEC,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBC,EAAAA;AAAjB,CAA7B,EAAyD;AACtE,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAACqB,IAAAA;AAAD,MAAkBjB,WAAW,CAACkB,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAAnC;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BzB,QAAQ,CAAC,KAAD,CAA1C;;AAEA,iBAAe0B,mBAAf,GAAqC;AACnCN,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF,YAAMlB,iBAAiB,CAACc,KAAD,CAAvB;AACD,KAFD,CAEE,OAAOW,KAAP,EAAc;AACd1B,MAAAA,KAAK,CAAC0B,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACD,KAJD,SAIU;AACRR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF;;AAED,iBAAeS,oBAAf,GAAsC;AACpCT,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF,YAAMjB,oBAAoB,CAACa,KAAD,CAA1B;AACD,KAFD,CAEE,OAAOW,KAAP,EAAc;AACd1B,MAAAA,KAAK,CAAC0B,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACD,KAJD,SAIU;AACRR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF;;AAED,sBACE,0CACGI,SAAS,iBACR,oBAAC,WAAD;AAAa,IAAA,YAAY,EAAEC,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF;AAQD","sourcesContent":["import React from 'react';\nimport { Segment, Image, Item, Header, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { addUserAttendance, cancelUserAttendance } from '../../../app/firestore/firestoreService';\nimport { useSelector } from 'react-redux';\nimport UnauthModal from '../../auth/UnauthModal';\n\nconst eventImageStyle = {\n  filter: 'brightness(30%)',\n};\n\nconst eventImageTextStyle = {\n  position: 'absolute',\n  bottom: '5%',\n  left: '5%',\n  width: '100%',\n  height: 'auto',\n  color: 'white',\n};\n\nexport default function EventDetailedHeader({ event, isHost, isGoing }) {\n  const [loading, setLoading] = useState(false);\n  const {authenticated} = useSelector(state => state.auth);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  async function handleUserJoinEvent() {\n    setLoading(true);\n    try {\n      await addUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUserLeaveEvent() {\n    setLoading(true);\n    try {\n      await cancelUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <>\n      {modalOpen && \n        <UnauthModal setModalOpen={setModalOpen} />\n      }\n    </>\n   \n  );\n}\n"]},"metadata":{},"sourceType":"module"}