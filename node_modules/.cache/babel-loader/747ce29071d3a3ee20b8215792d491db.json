{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/revents-master-14/cista/revents-4a7a2c1fc0de9971a68b4bb68ad6fa71370a6c80/src/features/profiles/profilePage/ProfilePage.jsx\";\nimport React from 'react';\nimport { Grid } from 'semantic-ui-react';\nimport ProfileHeader from './ProfileHeader';\nimport ProfileContent from './ProfileContent';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useFirestoreDoc from '../../../app/hooks/useFirestoreDoc';\nimport { getUserProfile } from '../../../app/firestore/firestoreService';\nimport { listenToSelectedUserProfile } from '../profileActions';\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\nexport default function ProfilePage({\n  match\n}) {\n  const dispatch = useDispatch();\n  const {\n    selectedUserProfile\n  } = useSelector(state => state.profile);\n  const {\n    currentUser\n  } = useSelector(state => state.auth);\n  const {\n    loading,\n    error\n  } = useSelector(state => state.async);\n  useFirestoreDoc({\n    query: () => getUserProfile(match.params.id),\n    data: profile => dispatch(listenToSelectedUserProfile(profile)),\n    deps: [dispatch, match.params.id]\n  });\n  if (loading && !selectedUserProfile || !selectedUserProfile && !error) return /*#__PURE__*/React.createElement(LoadingComponent, {\n    content: \"Loading profile...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }\n  });\n  return /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ProfileHeader, {\n    profile: selectedUserProfile,\n    isCurrentUser: currentUser.uid === selectedUserProfile.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ProfileContent, {\n    profile: selectedUserProfile,\n    isCurrentUser: currentUser.uid === selectedUserProfile.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/revents-master-14/cista/revents-4a7a2c1fc0de9971a68b4bb68ad6fa71370a6c80/src/features/profiles/profilePage/ProfilePage.jsx"],"names":["React","Grid","ProfileHeader","ProfileContent","useDispatch","useSelector","useFirestoreDoc","getUserProfile","listenToSelectedUserProfile","LoadingComponent","ProfilePage","match","dispatch","selectedUserProfile","state","profile","currentUser","auth","loading","error","async","query","params","id","data","deps","uid"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,SAASC,cAAT,QAA+B,yCAA/B;AACA,SAASC,2BAAT,QAA4C,mBAA5C;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AAEA,eAAe,SAASC,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAgC;AAC7C,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAM;AAAES,IAAAA;AAAF,MAA0BR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAA3C;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBX,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACG,IAAlB,CAAnC;AACA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAqBd,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACM,KAAlB,CAAtC;AAEAd,EAAAA,eAAe,CAAC;AACde,IAAAA,KAAK,EAAE,MAAMd,cAAc,CAACI,KAAK,CAACW,MAAN,CAAaC,EAAd,CADb;AAEdC,IAAAA,IAAI,EAAGT,OAAD,IAAaH,QAAQ,CAACJ,2BAA2B,CAACO,OAAD,CAA5B,CAFb;AAGdU,IAAAA,IAAI,EAAE,CAACb,QAAD,EAAWD,KAAK,CAACW,MAAN,CAAaC,EAAxB;AAHQ,GAAD,CAAf;AAMA,MAAKL,OAAO,IAAI,CAACL,mBAAb,IAAsC,CAACA,mBAAD,IAAwB,CAACM,KAAnE,EACE,oBAAO,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAC,oBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAEF,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,KAAK,EAAE,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,OAAO,EAAEN,mBADX;AAEE,IAAA,aAAa,EAAEG,WAAW,CAACU,GAAZ,KAAoBb,mBAAmB,CAACU,EAFzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE,oBAAC,cAAD;AACE,IAAA,OAAO,EAAEV,mBADX;AAEE,IAAA,aAAa,EAAEG,WAAW,CAACU,GAAZ,KAAoBb,mBAAmB,CAACU,EAFzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,CADF;AAcD","sourcesContent":["import React from 'react';\nimport { Grid } from 'semantic-ui-react';\nimport ProfileHeader from './ProfileHeader';\nimport ProfileContent from './ProfileContent';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useFirestoreDoc from '../../../app/hooks/useFirestoreDoc';\nimport { getUserProfile } from '../../../app/firestore/firestoreService';\nimport { listenToSelectedUserProfile } from '../profileActions';\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\n\nexport default function ProfilePage({ match }) {\n  const dispatch = useDispatch();\n  const { selectedUserProfile } = useSelector((state) => state.profile);\n  const { currentUser } = useSelector((state) => state.auth);\n  const { loading, error } = useSelector((state) => state.async);\n\n  useFirestoreDoc({\n    query: () => getUserProfile(match.params.id),\n    data: (profile) => dispatch(listenToSelectedUserProfile(profile)),\n    deps: [dispatch, match.params.id],\n  });\n\n  if ((loading && !selectedUserProfile) || (!selectedUserProfile && !error))\n    return <LoadingComponent content='Loading profile...' />;\n\n  return (\n    <Grid>\n      <Grid.Column width={16}>\n        <ProfileHeader\n          profile={selectedUserProfile}\n          isCurrentUser={currentUser.uid === selectedUserProfile.id}\n        />\n        <ProfileContent\n          profile={selectedUserProfile}\n          isCurrentUser={currentUser.uid === selectedUserProfile.id}\n        />\n      </Grid.Column>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}