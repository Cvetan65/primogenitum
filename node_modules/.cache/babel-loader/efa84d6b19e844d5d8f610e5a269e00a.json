{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/profiles/profilePage/ProfileHeader.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { Segment, Grid, Item, Header, Statistic, Divider, Reveal, Button } from 'semantic-ui-react';\nimport { followUser, getFollowingDoc, unfollowUser } from '../../../app/firestore/firestoreService';\nexport default function ProfileHeader({\n  profile,\n  isCurrentUser\n}) {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const {\n    followingUser\n  } = useSelector(state => state.profile);\n  useEffect(() => {\n    if (isCurrentUser) return;\n    setLoading(true);\n\n    async function fetchFollowingDoc() {\n      try {\n        const followingDoc = await getFollowingDoc(profile.id);\n\n        if (followingDoc && followingDoc.exists) {\n          di;\n        }\n      } catch (error) {\n        toast.error(error.message);\n      }\n    }\n  });\n\n  async function handleFollowUser() {\n    setLoading(true);\n\n    try {\n      await followUser(profile);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUnfollowUser() {\n    setLoading(true);\n\n    try {\n      await unfollowUser(profile);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Segment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Item.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Item.Image, {\n    avatar: true,\n    size: \"small\",\n    src: profile.photoURL || '/assets/user.png',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Item.Content, {\n    verticalAlign: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h1\",\n    style: {\n      display: 'block',\n      marginBottom: 10\n    },\n    content: profile.displayName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Statistic.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Statistic, {\n    label: \"Followers\",\n    value: profile.followerCount || 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Statistic, {\n    label: \"Following\",\n    value: profile.followingCount || 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  })), !isCurrentUser && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Reveal, {\n    animated: \"move\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Reveal.Content, {\n    visible: true,\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fluid: true,\n    color: \"teal\",\n    content: \"\\u041F\\u0440\\u0430\\u0442\\u0438\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Reveal.Content, {\n    hidden: true,\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleFollowUser,\n    loading: loading,\n    basic: true,\n    fluid: true,\n    color: \"green\",\n    content: \"\\u041F\\u0440\\u0430\\u0442\\u0438\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUnfollowUser,\n    loading: loading,\n    basic: true,\n    fluid: true,\n    color: \"red\",\n    content: \"\\u041D\\u0435 \\u043F\\u0440\\u0430\\u0442\\u0438\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/profiles/profilePage/ProfileHeader.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","toast","Segment","Grid","Item","Header","Statistic","Divider","Reveal","Button","followUser","getFollowingDoc","unfollowUser","ProfileHeader","profile","isCurrentUser","dispatch","loading","setLoading","followingUser","state","fetchFollowingDoc","followingDoc","id","exists","di","error","message","handleFollowUser","handleUnfollowUser","photoURL","display","marginBottom","displayName","followerCount","followingCount","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport {\n  Segment,\n  Grid,\n  Item,\n  Header,\n  Statistic,\n  Divider,\n  Reveal,\n  Button,\n} from 'semantic-ui-react';\nimport { followUser, getFollowingDoc, unfollowUser } from '../../../app/firestore/firestoreService';\n\nexport default function ProfileHeader({ profile, isCurrentUser }) {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const {followingUser} = useSelector(state => state.profile)\n\n  useEffect(() => {\n    if (isCurrentUser) return;\n    setLoading(true);\n    async function fetchFollowingDoc() {\n      try {\n        const followingDoc = await getFollowingDoc(profile.id);\n        if (followingDoc && followingDoc.exists) {\n          di\n        } \n      } catch (error) {\n        toast.error(error.message);\n      }\n    }\n  })\n\n  async function handleFollowUser() {\n    setLoading(true);\n    try {\n      await followUser(profile);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUnfollowUser() {\n    setLoading(true);\n    try {\n      await unfollowUser(profile);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Segment>\n      <Grid>\n        <Grid.Column width={12}>\n          <Item.Group>\n            <Item>\n              <Item.Image\n                avatar\n                size='small'\n                src={profile.photoURL || '/assets/user.png'}\n              />\n              <Item.Content verticalAlign='middle'>\n                <Header\n                  as='h1'\n                  style={{ display: 'block', marginBottom: 10 }}\n                  content={profile.displayName}\n                />\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </Grid.Column>\n        <Grid.Column width={4}>\n          <Statistic.Group>\n            <Statistic label='Followers' value={profile.followerCount || 0} />\n            <Statistic label='Following' value={profile.followingCount || 0} />\n          </Statistic.Group>\n          {!isCurrentUser && (\n            <>\n              <Divider />\n              <Reveal animated='move'>\n                <Reveal.Content visible style={{ width: '100%' }}>\n                  <Button fluid color='teal' content='Прати' />\n                </Reveal.Content>\n                <Reveal.Content hidden style={{ width: '100%' }}>\n                  <Button\n                    onClick={handleFollowUser}\n                    loading={loading}\n                    basic\n                    fluid\n                    color='green'\n                    content='Прати'\n                  />\n                </Reveal.Content>\n              </Reveal>\n              <Button\n                    onClick={handleUnfollowUser}\n                    loading={loading}\n                    basic\n                    fluid\n                    color='red'\n                    content='Не прати'\n                  />\n            </>\n          )}\n        </Grid.Column>\n      </Grid>\n    </Segment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}