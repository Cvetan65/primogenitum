{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedChatForm.jsx\";\nimport { Field, Form, Formik } from 'formik';\nimport React from 'react';\nimport { addEventChatComment } from '../../../app/firestore/firebaseService';\nimport { toast } from 'react-toastify';\nimport * as Yup from 'yup';\nexport default function EventDetailedChatForm({\n  eventId\n}) {\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      comment: ''\n    },\n    validationSchema: Yup.object({\n      comment: Yup.string().required()\n    }),\n    onSubmit: async (values, {\n      setSubmitting,\n      resetForm\n    }) => {\n      try {\n        await addEventChatComment(eventId, values.comment);\n        resetForm();\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setSubmitting(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, ({\n    isSubmitting,\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(Form, {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 10\n    }\n  }, ({\n    field\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Loadde, {\n    active: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", Object.assign({\n    rows: \"2\"\n  }, field, {\n    placeholder: \"\\u0412\\u043D\\u0435\\u0441\\u0435\\u0442\\u0435 \\u0433\\u043E \\u0412\\u0430\\u0448\\u0438\\u043E\\u0442 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440 (Enter \\u0437\\u0430 \\u043F\\u043E\\u0442\\u0432\\u0440\\u0434\\u0430, SHIFT + Enter \\u0437\\u0430 \\u043D\\u043E\\u0432\\u0430 \\u043B\\u0438\\u043D\\u0438\\u0458\\u0430)\",\n    onKeyPress: e => {\n      if (e.key === 'Enter' && e.shiftKey) {\n        return;\n      }\n\n      if (e.key === 'Enter' && !e.shiftKey) {\n        handleSubmit();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedChatForm.jsx"],"names":["Field","Form","Formik","React","addEventChatComment","toast","Yup","EventDetailedChatForm","eventId","comment","object","string","required","values","setSubmitting","resetForm","error","message","isSubmitting","handleSubmit","field","position","e","key","shiftKey"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,IAAhB,EAAsBC,MAAtB,QAAoC,QAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,eAAe,SAASC,qBAAT,CAA+B;AAACC,EAAAA;AAAD,CAA/B,EAA0C;AACvD,sBACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KADjB;AAEE,IAAA,gBAAgB,EAAEH,GAAG,CAACI,MAAJ,CAAW;AAC3BD,MAAAA,OAAO,EAAEH,GAAG,CAACK,MAAJ,GAAaC,QAAb;AADkB,KAAX,CAFpB;AAKE,IAAA,QAAQ,EAAE,OAAOC,MAAP,EAAe;AAAEC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,KAAf,KAAgD;AACxD,UAAI;AACF,cAAMX,mBAAmB,CAACI,OAAD,EAAUK,MAAM,CAACJ,OAAjB,CAAzB;AACAM,QAAAA,SAAS;AACV,OAHD,CAGE,OAAOC,KAAP,EAAc;AACdX,QAAAA,KAAK,CAACW,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACD,OALD,SAKU;AACRH,QAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF,KAdH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAgBG,CAAC;AAAEI,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,GAAD,kBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAACC,IAAAA;AAAD,GAAD,kBACC;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAEH,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACA,IAAA,IAAI,EAAC;AADL,KACaE,KADb;AAEA,IAAA,WAAW,EAAC,ySAFZ;AAGA,IAAA,UAAU,EAAGE,CAAD,IAAO;AACjB,UAAIA,CAAC,CAACC,GAAF,KAAU,OAAV,IAAqBD,CAAC,CAACE,QAA3B,EAAqC;AACnC;AACD;;AACD,UAAIF,CAAC,CAACC,GAAF,KAAU,OAAV,IAAqB,CAACD,CAAC,CAACE,QAA5B,EAAsC;AACpCL,QAAAA,YAAY;AACb;AACF,KAVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,CAFJ,CADD,CAjBJ,CADF;AA6CD","sourcesContent":["import { Field, Form, Formik } from 'formik';\nimport React from 'react';\nimport { addEventChatComment } from '../../../app/firestore/firebaseService';\nimport { toast } from 'react-toastify';\nimport * as Yup from 'yup'\n\nexport default function EventDetailedChatForm({eventId}) {\n  return (\n    <Formik\n      initialValues={{ comment: '' }}\n      validationSchema={Yup.object({\n        comment: Yup.string().required()\n      })}\n      onSubmit={async (values, { setSubmitting, resetForm }) => {\n        try {\n          await addEventChatComment(eventId, values.comment);\n          resetForm();\n        } catch (error) {\n          toast.error(error.message);\n        } finally {\n          setSubmitting(false);\n        }\n      }}\n    >\n      {({ isSubmitting, handleSubmit }) => (\n        <Form className='ui form'>\n         <Field name='comment'>\n           {({field}) => (\n             <div style={{position: 'relative'}} >\n               <Loadde active={isSubmitting}/>\n               <textarea \n               rows='2' {...field} \n               placeholder='Внесете го Вашиот коментар (Enter за потврда, SHIFT + Enter за нова линија)'\n               onKeyPress={(e) => {\n                 if (e.key === 'Enter' && e.shiftKey) {\n                   return;\n                 }\n                 if (e.key === 'Enter' && !e.shiftKey) {\n                   handleSubmit();\n                 }\n               }}\n               >\n\n               </textarea>\n             </div>\n           )}\n         </Field>\n         \n        </Form>\n      )}\n    </Formik>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}