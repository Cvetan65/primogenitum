{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedChatForm.jsx\";\nimport { Field, Form, Formik } from 'formik';\nimport React from 'react';\nimport { addEventChatComment } from '../../../app/firestore/firebaseService';\nimport { toast } from 'react-toastify';\nimport * as Yup from 'yup';\nimport { Loader } from 'semantic-ui-react';\nexport default function EventDetailedChatForm({\n  eventId,\n  parentId,\n  closeForm\n}) {\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      comment: ''\n    },\n    validationSchema: Yup.object({\n      comment: Yup.string().required()\n    }),\n    onSubmit: async (values, {\n      setSubmitting,\n      resetForm\n    }) => {\n      try {\n        await addEventChatComment(eventId, { ...values,\n          parentId\n        });\n        resetForm();\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setSubmitting(false);\n        closeForm({\n          open: false,\n          commentId\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }, ({\n    isSubmitting,\n    handleSubmit,\n    isValid\n  }) => /*#__PURE__*/React.createElement(Form, {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 10\n    }\n  }, ({\n    field\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    active: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", Object.assign({\n    rows: \"2\"\n  }, field, {\n    placeholder: \"\\u0412\\u043D\\u0435\\u0441\\u0435\\u0442\\u0435 \\u0433\\u043E \\u0412\\u0430\\u0448\\u0438\\u043E\\u0442 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440 (Enter \\u0437\\u0430 \\u043F\\u043E\\u0442\\u0432\\u0440\\u0434\\u0430, SHIFT + Enter \\u0437\\u0430 \\u043D\\u043E\\u0432\\u0430 \\u043B\\u0438\\u043D\\u0438\\u0458\\u0430)\",\n    onKeyPress: e => {\n      if (e.key === 'Enter' && e.shiftKey) {\n        return;\n      }\n\n      if (e.key === 'Enter' && !e.shiftKey) {\n        e.preventDefault();\n        isValid && handleSubmit();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedChatForm.jsx"],"names":["Field","Form","Formik","React","addEventChatComment","toast","Yup","Loader","EventDetailedChatForm","eventId","parentId","closeForm","comment","object","string","required","values","setSubmitting","resetForm","error","message","open","commentId","isSubmitting","handleSubmit","isValid","field","position","e","key","shiftKey","preventDefault"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,IAAhB,EAAsBC,MAAtB,QAAoC,QAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,wCAApC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AAEA,eAAe,SAASC,qBAAT,CAA+B;AAACC,EAAAA,OAAD;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA;AAApB,CAA/B,EAA+D;AAC5E,sBACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KADjB;AAEE,IAAA,gBAAgB,EAAEN,GAAG,CAACO,MAAJ,CAAW;AAC3BD,MAAAA,OAAO,EAAEN,GAAG,CAACQ,MAAJ,GAAaC,QAAb;AADkB,KAAX,CAFpB;AAKE,IAAA,QAAQ,EAAE,OAAOC,MAAP,EAAe;AAAEC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,KAAf,KAAgD;AACxD,UAAI;AACF,cAAMd,mBAAmB,CAACK,OAAD,EAAU,EAAC,GAAGO,MAAJ;AAAYN,UAAAA;AAAZ,SAAV,CAAzB;AACAQ,QAAAA,SAAS;AACV,OAHD,CAGE,OAAOC,KAAP,EAAc;AACdd,QAAAA,KAAK,CAACc,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACD,OALD,SAKU;AACRH,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAN,QAAAA,SAAS,CAAC;AAACU,UAAAA,IAAI,EAAE,KAAP;AAAcC,UAAAA;AAAd,SAAD,CAAT;AACD;AACF,KAfH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAiBG,CAAC;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,YAAhB;AAA8BC,IAAAA;AAA9B,GAAD,kBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAACC,IAAAA;AAAD,GAAD,kBACC;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAEJ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACA,IAAA,IAAI,EAAC;AADL,KACaG,KADb;AAEA,IAAA,WAAW,EAAC,ySAFZ;AAGA,IAAA,UAAU,EAAGE,CAAD,IAAO;AACjB,UAAIA,CAAC,CAACC,GAAF,KAAU,OAAV,IAAqBD,CAAC,CAACE,QAA3B,EAAqC;AACnC;AACD;;AACD,UAAIF,CAAC,CAACC,GAAF,KAAU,OAAV,IAAqB,CAACD,CAAC,CAACE,QAA5B,EAAsC;AACpCF,QAAAA,CAAC,CAACG,cAAF;AACAN,QAAAA,OAAO,IAAID,YAAY,EAAvB;AACD;AACF,KAXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,CAFJ,CADD,CAlBJ,CADF;AA+CD","sourcesContent":["import { Field, Form, Formik } from 'formik';\nimport React from 'react';\nimport { addEventChatComment } from '../../../app/firestore/firebaseService';\nimport { toast } from 'react-toastify';\nimport * as Yup from 'yup'\nimport { Loader } from 'semantic-ui-react';\n\nexport default function EventDetailedChatForm({eventId, parentId, closeForm}) {\n  return (\n    <Formik\n      initialValues={{ comment: '' }}\n      validationSchema={Yup.object({\n        comment: Yup.string().required()\n      })}\n      onSubmit={async (values, { setSubmitting, resetForm }) => {\n        try {\n          await addEventChatComment(eventId, {...values, parentId});\n          resetForm();\n        } catch (error) {\n          toast.error(error.message);\n        } finally {\n          setSubmitting(false);\n          closeForm({open: false, commentId});\n        }\n      }}\n    >\n      {({ isSubmitting, handleSubmit, isValid }) => (\n        <Form className='ui form'>\n         <Field name='comment'>\n           {({field}) => (\n             <div style={{position: 'relative'}} >\n               <Loader active={isSubmitting}/>\n               <textarea \n               rows='2' {...field} \n               placeholder='Внесете го Вашиот коментар (Enter за потврда, SHIFT + Enter за нова линија)'\n               onKeyPress={(e) => {\n                 if (e.key === 'Enter' && e.shiftKey) {\n                   return;\n                 }\n                 if (e.key === 'Enter' && !e.shiftKey) {\n                   e.preventDefault();\n                   isValid && handleSubmit();\n                 }\n               }}\n               >\n\n               </textarea>\n             </div>\n           )}\n         </Field>\n         \n        </Form>\n      )}\n    </Formik>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}