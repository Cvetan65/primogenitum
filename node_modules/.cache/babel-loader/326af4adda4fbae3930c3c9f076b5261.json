{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedHeader.jsx\";\nimport React from 'react';\nimport { Segment, Image, Item, Header, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { addUserAttendance, cancelUserAttendance } from '../../../app/firestore/firestoreService';\nimport { useSelector } from 'react-redux';\nimport UnauthModal from '../../auth/UnauthModal';\nconst eventImageStyle = {\n  filter: 'brightness(30%)'\n};\nconst eventImageTextStyle = {\n  position: 'absolute',\n  bottom: '5%',\n  left: '5%',\n  width: '100%',\n  height: 'auto',\n  color: 'white'\n};\nexport default function EventDetailedHeader({\n  event,\n  isHost,\n  isGoing\n}) {\n  const [loading, setLoading] = useState(false);\n  const {\n    authenticated\n  } = useSelector(state => state.auth);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  async function handleUserJoinEvent() {\n    setLoading(true);\n\n    try {\n      await addUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUserLeaveEvent() {\n    setLoading(true);\n\n    try {\n      await cancelUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, modalOpen && /*#__PURE__*/React.createElement(UnauthModal, {\n    setModalOpen: setModalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Segment.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Segment, {\n    basic: true,\n    attached: \"top\",\n    style: {\n      padding: '0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: '/assets/categoryImages/.jpg',\n    fluid: true,\n    style: eventImageStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Segment, {\n    basic: true,\n    style: eventImageTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Item.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Item.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    size: \"huge\",\n    content: event.title,\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, format(event.date, 'MMMM d, yyyy h:mm')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, \"\\u041F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0435\\u043D\\u043E \\u043E\\u0434\", ' ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/profile/${event.hostUid}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }, event.hostedBy), ' '))))))), /*#__PURE__*/React.createElement(Segment, {\n    attached: \"bottom\",\n    clearing: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, !isHost && /*#__PURE__*/React.createElement(React.Fragment, null, isGoing ? /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUserLeaveEvent,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"Cancel My Place\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: authenticated ? handleUserJoinEvent : () => setModalOpen(true),\n    loading: loading,\n    color: \"teal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"\\u041F\\u0420\\u0418\\u0414\\u0420\\u0423\\u0416\\u0418 \\u0421\\u0415\")), isHost && /*#__PURE__*/React.createElement(Button, {\n    as: Link,\n    to: `/manage/${event.id}`,\n    color: \"orange\",\n    floated: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"\\u041F\\u0440\\u043E\\u043C\\u0435\\u043D\\u0438 \\u0458\\u0430 \\u043F\\u043E\\u043D\\u0443\\u0434\\u0430\\u0442\\u0430\"))));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/events/eventDetailed/EventDetailedHeader.jsx"],"names":["React","Segment","Image","Item","Header","Button","Link","format","useState","toast","addUserAttendance","cancelUserAttendance","useSelector","UnauthModal","eventImageStyle","filter","eventImageTextStyle","position","bottom","left","width","height","color","EventDetailedHeader","event","isHost","isGoing","loading","setLoading","authenticated","state","auth","modalOpen","setModalOpen","handleUserJoinEvent","error","message","handleUserLeaveEvent","padding","title","date","hostUid","hostedBy","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Segment, Image, Item, Header, Button } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport {\n  addUserAttendance,\n  cancelUserAttendance,\n} from '../../../app/firestore/firestoreService';\nimport { useSelector } from 'react-redux';\nimport UnauthModal from '../../auth/UnauthModal';\n\nconst eventImageStyle = {\n  filter: 'brightness(30%)',\n};\n\nconst eventImageTextStyle = {\n  position: 'absolute',\n  bottom: '5%',\n  left: '5%',\n  width: '100%',\n  height: 'auto',\n  color: 'white',\n};\n\nexport default function EventDetailedHeader({ event, isHost, isGoing }) {\n  const [loading, setLoading] = useState(false);\n  const { authenticated } = useSelector((state) => state.auth);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  async function handleUserJoinEvent() {\n    setLoading(true);\n    try {\n      await addUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleUserLeaveEvent() {\n    setLoading(true);\n    try {\n      await cancelUserAttendance(event);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <>\n      {modalOpen && \n        <UnauthModal setModalOpen={setModalOpen} />}\n      <Segment.Group>\n        <Segment basic attached='top' style={{ padding: '0' }}>\n          <Image\n            src={'/assets/categoryImages/.jpg'}\n            fluid\n            style={eventImageStyle}\n          />\n\n          <Segment basic style={eventImageTextStyle}>\n            <Item.Group>\n              <Item>\n                <Item.Content>\n                  <Header\n                    size='huge'\n                    content={event.title}\n                    style={{ color: 'white' }}\n                  />\n                  <p>{format(event.date, 'MMMM d, yyyy h:mm')}</p>\n                  <p>\n                    Предложено од{' '}\n                    <strong>\n                      <Link to={`/profile/${event.hostUid}`}>\n                        {event.hostedBy}\n                      </Link>{' '}\n                    </strong>\n                  </p>\n                </Item.Content>\n              </Item>\n            </Item.Group>\n          </Segment>\n        </Segment>\n\n        <Segment attached='bottom' clearing>\n          {!isHost && (\n            <>\n              {isGoing ? (\n                <Button onClick={handleUserLeaveEvent} loading={loading}>\n                  Cancel My Place\n                </Button>\n              ) : (\n                <Button\n                  onClick={authenticated ? handleUserJoinEvent : () => setModalOpen(true)}\n                  loading={loading}\n                  color='teal'\n                >\n                  ПРИДРУЖИ СЕ\n                </Button>\n              )}\n            </>\n          )}\n\n          {isHost && (\n            <Button\n              as={Link}\n              to={`/manage/${event.id}`}\n              color='orange'\n              floated='right'\n            >\n              Промени ја понудата\n            </Button>\n          )}\n        </Segment>\n      </Segment.Group>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}