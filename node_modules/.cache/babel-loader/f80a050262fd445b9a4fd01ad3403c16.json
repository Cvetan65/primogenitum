{"ast":null,"code":"var _jsxFileName = \"/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/profiles/profilePage/ProfilePage.jsx\";\nimport React from 'react';\nimport { Grid } from 'semantic-ui-react';\nimport ProfileHeader from './ProfileHeader';\nimport ProfileContent from './ProfileContent';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useFirestoreDoc from '../../../app/hooks/useFirestoreDoc';\nimport { getUserProfile } from '../../../app/firestore/firestoreService';\nimport { listenToSelectedUserProfile } from '../profileActions';\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\nexport default function ProfilePage({\n  match\n}) {\n  const dispatch = useDispatch();\n  const {\n    selectedUserProfile,\n    currentUserProfile\n  } = useSelector(state => state.profile);\n  const {\n    currentUser\n  } = useSelector(state => state.auth);\n  const {\n    loading,\n    error\n  } = useSelector(state => state.async);\n  let profile;\n  useFirestoreDoc({\n    query: () => getUserProfile(match.params.id),\n    data: profile => dispatch(listenToSelectedUserProfile(profile)),\n    deps: [dispatch, match.params.id],\n    shouldExecute: match.params.id !== currentUser.uid\n  });\n  if (loading && !selectedUserProfile || !selectedUserProfile && !error) return /*#__PURE__*/React.createElement(LoadingComponent, {\n    content: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u043E\\u0442 \\u0441\\u0435 \\u0432\\u0447\\u0438\\u0442\\u0443\\u0432\\u0430...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }\n  });\n  return /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ProfileHeader, {\n    profile: selectedUserProfile,\n    isCurrentUser: currentUser.uid === selectedUserProfile.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ProfileContent, {\n    profile: selectedUserProfile,\n    isCurrentUser: currentUser.uid === selectedUserProfile.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/cvetan/Documents/AKTUELNO/PrevozSemanticUI/prevoz-cist/src/features/profiles/profilePage/ProfilePage.jsx"],"names":["React","Grid","ProfileHeader","ProfileContent","useDispatch","useSelector","useFirestoreDoc","getUserProfile","listenToSelectedUserProfile","LoadingComponent","ProfilePage","match","dispatch","selectedUserProfile","currentUserProfile","state","profile","currentUser","auth","loading","error","async","query","params","id","data","deps","shouldExecute","uid"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,SAASC,cAAT,QAA+B,yCAA/B;AACA,SAASC,2BAAT,QAA4C,mBAA5C;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AAEA,eAAe,SAASC,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAgC;AAC7C,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAM;AAAES,IAAAA,mBAAF;AAAuBC,IAAAA;AAAvB,MAA8CT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAA/D;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBZ,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACG,IAAlB,CAAnC;AACA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAqBf,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACM,KAAlB,CAAtC;AACA,MAAIL,OAAJ;AAEAV,EAAAA,eAAe,CAAC;AACdgB,IAAAA,KAAK,EAAE,MAAMf,cAAc,CAACI,KAAK,CAACY,MAAN,CAAaC,EAAd,CADb;AAEdC,IAAAA,IAAI,EAAGT,OAAD,IAAaJ,QAAQ,CAACJ,2BAA2B,CAACQ,OAAD,CAA5B,CAFb;AAGdU,IAAAA,IAAI,EAAE,CAACd,QAAD,EAAWD,KAAK,CAACY,MAAN,CAAaC,EAAxB,CAHQ;AAIdG,IAAAA,aAAa,EAAEhB,KAAK,CAACY,MAAN,CAAaC,EAAb,KAAoBP,WAAW,CAACW;AAJjC,GAAD,CAAf;AAOA,MAAKT,OAAO,IAAI,CAACN,mBAAb,IAAsC,CAACA,mBAAD,IAAwB,CAACO,KAAnE,EACE,oBAAO,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAC,6GAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAEF,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,KAAK,EAAE,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,OAAO,EAAEP,mBADX;AAEE,IAAA,aAAa,EAAEI,WAAW,CAACW,GAAZ,KAAoBf,mBAAmB,CAACW,EAFzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE,oBAAC,cAAD;AACE,IAAA,OAAO,EAAEX,mBADX;AAEE,IAAA,aAAa,EAAEI,WAAW,CAACW,GAAZ,KAAoBf,mBAAmB,CAACW,EAFzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,CADF;AAcD","sourcesContent":["import React from 'react';\nimport { Grid } from 'semantic-ui-react';\nimport ProfileHeader from './ProfileHeader';\nimport ProfileContent from './ProfileContent';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useFirestoreDoc from '../../../app/hooks/useFirestoreDoc';\nimport { getUserProfile } from '../../../app/firestore/firestoreService';\nimport { listenToSelectedUserProfile } from '../profileActions';\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\n\nexport default function ProfilePage({ match }) {\n  const dispatch = useDispatch();\n  const { selectedUserProfile, currentUserProfile } = useSelector((state) => state.profile);\n  const { currentUser } = useSelector((state) => state.auth);\n  const { loading, error } = useSelector((state) => state.async);\n  let profile\n\n  useFirestoreDoc({\n    query: () => getUserProfile(match.params.id),\n    data: (profile) => dispatch(listenToSelectedUserProfile(profile)),\n    deps: [dispatch, match.params.id],\n    shouldExecute: match.params.id !== currentUser.uid\n  });\n\n  if ((loading && !selectedUserProfile) || (!selectedUserProfile && !error))\n    return <LoadingComponent content='Профилот се вчитува...' />;\n\n  return (\n    <Grid>\n      <Grid.Column width={16}>\n        <ProfileHeader\n          profile={selectedUserProfile}\n          isCurrentUser={currentUser.uid === selectedUserProfile.id}\n        />\n        <ProfileContent\n          profile={selectedUserProfile}\n          isCurrentUser={currentUser.uid === selectedUserProfile.id}\n        />\n      </Grid.Column>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}